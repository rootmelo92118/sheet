{
    "log":{
        "access":"D:\\home\\site\\wwwroot\\access.log",
        "error":"D:\\home\\site\\wwwroot\\error.log",
        "loglevel":"warning"
    },
    "dns":{
        "servers":[
            "localhost",
            {
                "address":"172.104.162.222",
                "port":53,
                "skipFallback":false,
                "domains":[
                    "geosite:tld-opennic"
                ]
            },
            {
                "address":"103.1.206.179",
                "port":53,
                "skipFallback":false,
                "domains":[
                    "geosite:tld-opennic"
                ]
            },
            "https+local://cloudflare-dns.com/dns-query",
            "https+local://dns.google/dns-query"
        ]
    },
    "inbounds":[
        {
            "port":"env:HTTP_PLATFORM_PORT",
            "protocol":"vmess",
            "settings":{
                "clients":[
                    {
                        "id":"274f11c6-f69b-40b9-8966-f39e06e97be7",
                        "alterId":0
                    }
                ]
            },
            "streamSettings":{
                "network":"ws",
                "wsSettings":{
                    "path":"/ws"
                }
            }
        }
    ],
    "outbounds":[
        {
            "protocol":"freedom",
            "settings":{
                "domainStrategy":"UseIP"
            },
            "tag":"direct"
        },
        {
            "protocol":"shadowsocks",
            "settings":{
                "servers":[
                    {
                        "address":"167.179.78.123",
                        "method":"aes-256-gcm",
                        "password":"nodejp",
                        "port":6789
                    }
                ]
            },
            "tag":"tunnel"
        },
        {
            "tag":"dns_force_forward",
            "protocol":"dns"
        }
    ],
    "routing":{
        "domainStrategy":"IPOnDemand",
        "domainMatcher":"mph",
        "rules":[
            {
                "type":"field",
                "port":"53",
                "outboundTag":"dns_force_forward"
            },
            {
                "domain":[
                    "geosite:google",
                    "geosite:speedtest",
                    "geosite:ipip"
                ],
                "outboundTag":"direct",
                "type":"field"
            },
            {
                "type":"field",
                "domain":[
                    "geosite:tor",
                    "domain:i2p",
                    "geosite:netflix",
                    "geosite:disney",
                    "geosite:bilibili",
                    "geosite:bahamut",
                    "geosite:dcard",
                    "geosite:18comic",
                    "domain:linetv.tw",
                    "geosite:hamivideo",
                    "geosite:hbo",
                    "domain:4gtv.tv",
                    "domain:myvideo.net.tw",
                    "geosite:kktv",
                    "geosite:litv",
                    "geosite:catchplay",
                    "geosite:openai"
                ],
                "outboundTag":"tunnel"
            },
            {
                "type":"field",
                "ip":[
                    "geoip:cloudflare",
                    "geoip:cloudfront",
                    "geoip:facebook",
                    "geoip:fastly"
                ],
                "outboundTag":"direct"
            },
            {
                "ip":[
                    "geoip:ad",
                    "geoip:al",
                    "geoip:at",
                    "geoip:ax",
                    "geoip:ba",
                    "geoip:be",
                    "geoip:bg",
                    "geoip:by",
                    "geoip:ch",
                    "geoip:cz",
                    "geoip:de",
                    "geoip:dk",
                    "geoip:ee",
                    "geoip:es",
                    "geoip:fi",
                    "geoip:fo",
                    "geoip:fr",
                    "geoip:gb",
                    "geoip:gg",
                    "geoip:gi",
                    "geoip:gr",
                    "geoip:hr",
                    "geoip:hu",
                    "geoip:ie",
                    "geoip:im",
                    "geoip:is",
                    "geoip:it",
                    "geoip:je",
                    "geoip:jp",
                    "geoip:li",
                    "geoip:lt",
                    "geoip:lu",
                    "geoip:lv",
                    "geoip:mc",
                    "geoip:md",
                    "geoip:me",
                    "geoip:mk",
                    "geoip:mt",
                    "geoip:nl",
                    "geoip:no",
                    "geoip:pl",
                    "geoip:pt",
                    "geoip:ro",
                    "geoip:rs",
                    "geoip:se",
                    "geoip:si",
                    "geoip:sk",
                    "geoip:sm",
                    "geoip:tw",
                    "geoip:ua",
                    "geoip:va"
                ],
                "outboundTag":"tunnel",
                "type":"field"
            },
            {
                "type":"field",
                "network":"tcp,udp",
                "outboundTag":"direct"
            }
        ]
    }
}
